{
  "collection_info": {
    "name": "Debter Link API Test Collection",
    "base_url": "http://localhost:2000/api",
    "description": "Complete test data for Debter Link API endpoints"
  },
  "test_credentials": {
    "super_admin": {
      "email": "superadmin@debterlink.com",
      "password": "SuperAdmin123!"
    },
    "default_temporary_password": "temporary123"
  },
  "test_requests": [
    {
      "name": "Health Check",
      "method": "GET",
      "url": "http://localhost:2000/health",
      "headers": {},
      "body": null,
      "expected_response": {
        "status": "ok"
      }
    },
    {
      "name": "Super Admin Login",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/login",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "superadmin@debterlink.com",
        "password": "SuperAdmin123!"
      },
      "expected_response": {
        "status": true,
        "message": "Login successful",
        "data": {
          "id": "uuid",
          "full_name": "Super Admin",
          "email": "superadmin@debterlink.com",
          "role_id": 1,
          "password_status": "permanent",
          "requiresPasswordChange": false
        },
        "accessToken": "jwt_token",
        "refreshToken": "refresh_token"
      }
    },
    {
      "name": "Create School",
      "method": "POST",
      "url": "http://localhost:2000/api/super-admin/school",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{super_admin_access_token}}"
      },
      "body": {
        "school_name": "Debter Test School",
        "address": "123 Test Street, Addis Ababa, Ethiopia",
        "phone": "+251911234567",
        "email": "info@debtertest.edu.et",
        "website": "https://debtertest.edu.et"
      },
      "expected_response": {
        "status": true,
        "message": "School created successfully",
        "data": {
          "school_id": "uuid",
          "school_name": "Debter Test School"
        }
      }
    },
    {
      "name": "Register Admin User",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{super_admin_access_token}}"
      },
      "body": {
        "full_name": "Tesfaye Admin",
        "email": "tesfaye.admin@debtertest.edu.et",
        "phone_number": "+251911234568",
        "role": "admin",
        "school_id": "{{school_id_from_previous_step}}"
      },
      "expected_response": {
        "status": true,
        "message": "User registered successfully",
        "data": {
          "user_id": "uuid",
          "full_name": "Tesfaye Admin",
          "email": "tesfaye.admin@debtertest.edu.et"
        }
      }
    },
    {
      "name": "Admin Login",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/login",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "tesfaye.admin@debtertest.edu.et",
        "password": "temporary123"
      },
      "expected_response": {
        "status": true,
        "message": "Login successful. Please set your permanent password.",
        "data": {
          "id": "uuid",
          "full_name": "Tesfaye Admin",
          "email": "tesfaye.admin@debtertest.edu.et",
          "role_id": 2,
          "password_status": "temporary",
          "requiresPasswordChange": true
        },
        "accessToken": "jwt_token",
        "refreshToken": "refresh_token"
      }
    },
    {
      "name": "Register Director User",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Dr. Almaz Director",
        "email": "almaz.director@debtertest.edu.et",
        "phone_number": "+251911234569",
        "role": "director",
        "school_id": "{{school_id_from_previous_step}}",
        "office_number": "A101",
        "office_phone": "+251116543210"
      },
      "expected_response": {
        "status": true,
        "message": "User registered successfully",
        "data": {
          "user_id": "uuid",
          "full_name": "Dr. Almaz Director"
        }
      }
    },
    {
      "name": "Register Teacher User",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Abeba Teacher",
        "email": "abeba.teacher@debtertest.edu.et",
        "phone_number": "+251911234570",
        "role": "teacher",
        "subject": "Mathematics",
        "department": "Science",
        "employee_id": "T001"
      },
      "expected_response": {
        "status": true,
        "message": "User registered successfully",
        "data": {
          "user_id": "uuid",
          "full_name": "Abeba Teacher"
        }
      }
    },
    {
      "name": "Register Another Teacher",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Kaleb Teacher",
        "email": "kaleb.teacher@debtertest.edu.et",
        "phone_number": "+251911234571",
        "role": "teacher",
        "subject": "English",
        "department": "Languages",
        "employee_id": "T002"
      }
    },
    {
      "name": "Teacher Login",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/login",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "abeba.teacher@debtertest.edu.et",
        "password": "temporary123"
      },
      "expected_response": {
        "status": true,
        "message": "Login successful. Please set your permanent password.",
        "data": {
          "id": "uuid",
          "full_name": "Abeba Teacher",
          "email": "abeba.teacher@debtertest.edu.et",
          "role_id": 4,
          "password_status": "temporary",
          "requiresPasswordChange": true
        }
      }
    },
    {
      "name": "Create Class",
      "method": "POST",
      "url": "http://localhost:2000/api/class",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "class_name": "Grade 10A",
        "grade_level": 10,
        "section": "A",
        "academic_year": "2024-2025",
        "teacher_id": "{{teacher_id_from_previous_step}}",
        "school_id": "{{school_id_from_previous_step}}",
        "max_students": 35
      },
      "expected_response": {
        "status": true,
        "message": "Class created successfully",
        "data": {
          "class_id": "uuid",
          "class_name": "Grade 10A"
        }
      }
    },
    {
      "name": "Create Subject",
      "method": "POST",
      "url": "http://localhost:2000/api/subject",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "subject_name": "Mathematics",
        "subject_code": "MATH101",
        "description": "Advanced Mathematics for Grade 10",
        "credits": 4,
        "department": "Science"
      }
    },
    {
      "name": "Register Student User",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Hana Student",
        "email": "hana.student@debtertest.edu.et",
        "phone_number": "+251911234572",
        "role": "student",
        "grade_level": 10,
        "class_id": "{{class_id_from_previous_step}}",
        "student_id": "S2024001",
        "date_of_birth": "2008-05-15",
        "gender": "female"
      },
      "expected_response": {
        "status": true,
        "message": "User registered successfully",
        "data": {
          "user_id": "uuid",
          "full_name": "Hana Student"
        }
      }
    },
    {
      "name": "Register Another Student",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Dawit Student",
        "email": "dawit.student@debtertest.edu.et",
        "phone_number": "+251911234573",
        "role": "student",
        "grade_level": 10,
        "class_id": "{{class_id_from_previous_step}}",
        "student_id": "S2024002",
        "date_of_birth": "2008-08-22",
        "gender": "male"
      }
    },
    {
      "name": "Student Login",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/login",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "hana.student@debtertest.edu.et",
        "password": "temporary123"
      },
      "expected_response": {
        "status": true,
        "message": "Login successful. Please set your permanent password.",
        "data": {
          "id": "uuid",
          "full_name": "Hana Student",
          "email": "hana.student@debtertest.edu.et",
          "role_id": 5,
          "password_status": "temporary",
          "requiresPasswordChange": true
        }
      }
    },
    {
      "name": "Register Parent User",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/register-user",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{admin_access_token}}"
      },
      "body": {
        "full_name": "Selam Parent",
        "email": "selam.parent@gmail.com",
        "phone_number": "+251911234574",
        "role": "parent",
        "student_ids": ["{{student_id_hana}}"],
        "relationship": "mother",
        "occupation": "Teacher"
      },
      "expected_response": {
        "status": true,
        "message": "User registered successfully",
        "data": {
          "user_id": "uuid",
          "full_name": "Selam Parent"
        }
      }
    },
    {
      "name": "Parent Login",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/login",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "email": "selam.parent@gmail.com",
        "password": "temporary123"
      },
      "expected_response": {
        "status": true,
        "message": "Login successful. Please set your permanent password.",
        "data": {
          "id": "uuid",
          "full_name": "Selam Parent",
          "email": "selam.parent@gmail.com",
          "role_id": 6,
          "password_status": "temporary",
          "requiresPasswordChange": true
        }
      }
    },
    {
      "name": "Create Assignment",
      "method": "POST",
      "url": "http://localhost:2000/api/assignment",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{teacher_access_token}}"
      },
      "body": {
        "title": "Mathematics Assignment 1: Algebra",
        "description": "Complete exercises 1-20 from Chapter 3: Linear Equations and Inequalities",
        "due_date": "2024-12-25T23:59:59Z",
        "class_id": "{{class_id_from_previous_step}}",
        "subject_id": "{{subject_id_math}}",
        "total_marks": 100,
        "assignment_type": "homework",
        "instructions": "Show all your work clearly. Submit your answers in PDF format."
      },
      "expected_response": {
        "status": true,
        "message": "Assignment created successfully",
        "data": {
          "assignment_id": "uuid",
          "title": "Mathematics Assignment 1: Algebra"
        }
      }
    },
    {
      "name": "Mark Attendance",
      "method": "POST",
      "url": "http://localhost:2000/api/attendance",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{teacher_access_token}}"
      },
      "body": {
        "class_id": "{{class_id_from_previous_step}}",
        "date": "2024-12-18",
        "attendance_records": [
          {
            "student_id": "{{student_id_hana}}",
            "status": "present",
            "remarks": "On time, participated actively"
          },
          {
            "student_id": "{{student_id_dawit}}",
            "status": "late",
            "remarks": "Arrived 10 minutes late"
          }
        ]
      },
      "expected_response": {
        "status": true,
        "message": "Attendance marked successfully",
        "data": {
          "attendance_id": "uuid",
          "date": "2024-12-18"
        }
      }
    },
    {
      "name": "Create Exam",
      "method": "POST",
      "url": "http://localhost:2000/api/teacher/exam",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{teacher_access_token}}"
      },
      "body": {
        "exam_title": "Mathematics Midterm Exam",
        "description": "Covers Chapters 1-3: Basic Algebra, Linear Equations, and Inequalities",
        "class_id": "{{class_id_from_previous_step}}",
        "subject_id": "{{subject_id_math}}",
        "exam_date": "2024-12-28T09:00:00Z",
        "duration_minutes": 120,
        "total_marks": 100,
        "exam_type": "midterm",
        "instructions": "No calculators allowed. Show all work."
      },
      "expected_response": {
        "status": true,
        "message": "Exam created successfully",
        "data": {
          "exam_id": "uuid",
          "exam_title": "Mathematics Midterm Exam"
        }
      }
    },
    {
      "name": "Submit Assignment",
      "method": "POST",
      "url": "http://localhost:2000/api/student/assignment/submit",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{student_access_token}}"
      },
      "body": {
        "assignment_id": "{{assignment_id_from_previous_step}}",
        "submission_text": "Here is my completed assignment with all exercises solved.",
        "submission_file": "file_path_or_base64_encoded_content"
      },
      "expected_response": {
        "status": true,
        "message": "Assignment submitted successfully",
        "data": {
          "submission_id": "uuid",
          "submitted_at": "2024-12-18T10:30:00Z"
        }
      }
    },
    {
      "name": "View Student Grades",
      "method": "GET",
      "url": "http://localhost:2000/api/student/grades",
      "headers": {
        "Authorization": "Bearer {{student_access_token}}"
      },
      "body": null,
      "expected_response": {
        "status": true,
        "data": [
          {
            "subject": "Mathematics",
            "assignment_title": "Mathematics Assignment 1: Algebra",
            "marks_obtained": 85,
            "total_marks": 100,
            "grade": "A",
            "submitted_date": "2024-12-18T10:30:00Z"
          }
        ]
      }
    },
    {
      "name": "View Child's Progress",
      "method": "GET",
      "url": "http://localhost:2000/api/parent/children/{{student_id_hana}}/progress",
      "headers": {
        "Authorization": "Bearer {{parent_access_token}}"
      },
      "body": null,
      "expected_response": {
        "status": true,
        "data": {
          "student_info": {
            "full_name": "Hana Student",
            "grade": "10A",
            "student_id": "S2024001"
          },
          "academic_progress": [
            {
              "subject": "Mathematics",
              "current_grade": "A",
              "attendance_rate": "95%",
              "assignments_completed": 8,
              "total_assignments": 10
            }
          ]
        }
      }
    },
    {
      "name": "Refresh Token",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/refresh",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "refreshToken": "{{refresh_token}}"
      },
      "expected_response": {
        "status": true,
        "accessToken": "new_jwt_token",
        "refreshToken": "new_refresh_token"
      }
    },
    {
      "name": "Set Permanent Password",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/set-password",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer {{user_access_token}}"
      },
      "body": {
        "current_password": "temporary123",
        "new_password": "MySecurePassword123!"
      },
      "expected_response": {
        "status": true,
        "message": "Password updated successfully"
      }
    },
    {
      "name": "Logout",
      "method": "POST",
      "url": "http://localhost:2000/api/auth/logout",
      "headers": {
        "Authorization": "Bearer {{user_access_token}}"
      },
      "body": null,
      "expected_response": {
        "status": true,
        "message": "Logout successful"
      }
    }
  ],
  "variables_to_replace": {
    "super_admin_access_token": "Token from super admin login response",
    "admin_access_token": "Token from admin login response",
    "teacher_access_token": "Token from teacher login response",
    "student_access_token": "Token from student login response",
    "parent_access_token": "Token from parent login response",
    "school_id_from_previous_step": "School ID from create school response",
    "class_id_from_previous_step": "Class ID from create class response",
    "subject_id_math": "Subject ID from create subject response",
    "student_id_hana": "User ID from register Hana student response",
    "student_id_dawit": "User ID from register Dawit student response",
    "assignment_id_from_previous_step": "Assignment ID from create assignment response",
    "refresh_token": "Refresh token from any login response"
  }
}
